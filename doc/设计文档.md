
设计文档

付宏	叶豪	牟宏杰	武智源	慕思成

2017年12月

目录
0引言	3
0.1 目的	3
0.2 文档约定	3
0.3 预期读者和阅读建议	3
0.4 范围	3
1简介	3
1.1 软件介绍	3
1.2用户类和特征	3
1.3运行环境	4
2系统架构与设计	4
2.1开发环境	4
2.2用例图	4
2.3框架模块划分	5
2.4类图	6


0引言
0.1 目的
本文档旨在说明软件项目的软件设计框架。
0.2 文档约定
待定。
0.3 预期读者和阅读建议
游戏玩家、软件开发团队、其它开发者；
0.4 范围
本文档包含项目概述、系统用例、系统架构、模块划分、类关系。

1简介
1.1 软件介绍
本软件是一款融合多种风格的游戏。
当前不少热门的游戏都是多风格游戏，比单一风格游戏有更加广大的用户群体。本游戏通过尝试不同风格游戏元素（如射击，探险，弹幕等）的组合，让玩家获得更好的游戏体验。
本软件还作为《软件工程（2017）》课程“喜迎十九大”小组的课程作业。
1.2用户类和特征
普通玩家：在客户端参与游戏
管理员：在服务器端管理游戏
开发者：进行二次开发游戏

1.3运行环境
客户端运行：只适用于支持DX11的Windows系统。
服务器端运行：Windows系统

2系统架构与设计
总体上系统框架由两部分组成，负责功能引导的主菜单部分，以及负责游戏内容的场景部分。我们分别给出两个部分的用例图、以及框架与模块划分。
2.1开发环境
开发引擎：Unity 3D
开发语言：C#
美术资源：社区资源
版本管理：GitHub、托管服务器
2.2用例图
主菜单部分的用例图如图一，游戏场景作为子用例图如图二。
![] (img/design1.png)
![] (img/design2.png)


图一 指引流程用例图

图二 游戏内容用例图

2.3框架模块划分
由于本项目基于Unity开发，所以大框架基于场景来划分，目前设计为两个部分,其中第一部分为游戏打开界面，第二部分为游戏场景。不同部分间通过加载场景来实现连接和切换。
	在主界面部分中，主要包括进入游戏模块，退出游戏模块和UI模块。进入游戏和退出游戏模块分别实现进入游戏和退出游戏功能；UI模块主要包括切换动画和加载动画。
	在游戏场景部分中，主要分为以下个模块：地图模块，主角控制模块，怪物模块，UI模块，数据传递模块和物品模块。地图模块主要实现地图贴图和地图预制件(石头、树木)生成功能；主角控制模块主要实现移动控制，攻击控制，动作设计，拾取物品，技能释放控制和属性控制等功能；怪物模块包括怪物属性，怪物AI，Boss移动和Boss子弹控制等；UI模块包括人物属性显示，暂停菜单，辅助信息(技能信息和操作信息)提示，商店菜单显示等；数据传递模块主要实现人物数据在不同关卡之间的传输功能；物品模块主要实现物品属性控制和物品交易功能。
	框架示模块示意如图三所示。

 	 
图三 框架与模块划分
2.4类图
图四展示了（截止到2017/12/9）系统的类图，清晰的版本可见附件。处于中央的类是Unity引擎提供的MonoBehaviour基类，提供了一系列初始化接口、逐帧更新接口、事件接口。以此作为基础层，我们派生出了如ThirdPerson（定义角色控制、运镜规则、提供相关方法），attribute（定义角色/敌人/Boss属性、提供相关方法）、ballistic（定义弹道系统、提供相关方法）等基本功能层，以及Safearea_sever（安全区逻辑、进度控制）、ObjectGenerator（地形/物品/敌人随机生成）等应用层，以及InfoMenu（属性面板）、shop（商店互动）等交互层。更多、更详细的类说明请参考代码注释。

图四 类图略缩图
